<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="produc" ></div>
</body>
<script>

    async function fetchProducts(){
        try{
            const response = await fetch ('https://dummyjson.com/products');
            const data = await response.json();
            return data.products;
        }
        catch (error){
            console.error('Error fetching products:',error);
            return[];
        }
    }
    function createproducthtml (availability ,brand ,category ,description,dimensions, discountPercentage, id, images, meta, minimumOrderQuantity, price, rating, returnPolicy, reviews, shippingInformation, sku, stock, tags, thumbnail, title, warrantyInformation,weight){
        const productDiv = document.createElement('div');
        productDiv.innerHTML = `
        <h1> Product information  </h1>
        <p><strong> availability:</strong> ${availability}</p>
        <p><strong>category:</strong> ${category}</p>
        <p> <strong> description:</strong> ${description}</p>
        <p><strong> dimensions: </strong> ${dimensions}</p>
        <p><strong>discountPercentage: </strong>${discountPercentage}</p>
        <p><strong>id:</strong> ${id}</p>
        <img src="${images}" alt="product image" style="width:10%">
        <p><strong>meta:</strong> ${meta}</p>
        <p><strong>minimumOrderQuantity:</strong> ${minimumOrderQuantity}</p>
        <p><strong>price:</strong> ${price}</p>
        <p><strong>rating:</strong> ${rating}</p>
        <p><strong>returnPolicy:</strong> ${returnPolicy}</p>
        <p><strong>reviews:</strong> ${reviews}</p>
        <p><strong>shippingInformation:</strong> ${shippingInformation}</p>
        <p><strong>sku:</strong> ${sku}</p>
        <p><strong>stock:</strong> ${stock}</p>
        <p><strong>tags:</strong> ${tags}</p>
        <p><strong>thumbnail:</strong> ${thumbnail}</p>
        <p><strong>title:</strong> ${title}</p>
        <p><strong>warrantyInformation:</strong> ${warrantyInformation}</p>
        <p><strong>weight:</strong> ${weight}</p>
        `;
        const container = document.getElementById('produc');
        if (container){
            container.appendChild(productDiv);

        }
        else{
            console.error("error");
        }
        return productDiv;


    }

async function displayProducts(){
    const products = await fetchProducts();
    const list = document.getElementById('produc');

    products.forEach(product => {
        const prodhtml = createproducthtml(
        product.availability,
        product.brand,
        product.category,
        product.description,
        product.dimensions,
        product.discountPercentage,
        product.id,
        product.images,
        product.meta,
        product.minimumOrderQuantity,
        product.price,
        product.rating,
        product.returnPolicy,
        product.reviews,
        product.shippingInformation,
        product.sku,
        product.stock,
        product.tags,
        product.thumbnail,
        product.title,
        product.warrantyInformation,
        product.weight
    );
        list.appendChild(prodhtml);
    });

    localStorage.setItem('products',JSON.stringify(products));
    
    console.log(products);
}
window.onload = displayProducts;

</script>
</html>
